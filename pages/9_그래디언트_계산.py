import streamlit as st
import numpy as np

st.title("그래디언트 (Gradient) 계산법 📐")

st.markdown("""
## 1. 그래디언트(Gradient)란?

### 기본 개념
* 벡터함수에서 **각 변수에 대한 편미분을 원소로 가지는 벡터**입니다.
* 수식으로는 다음과 같이 표현됩니다:

$$
\\nabla f(x, y) = \\left( \\frac{\\partial f}{\\partial x},\\; \\frac{\\partial f}{\\partial y} \\right)
$$

### 의미
* 함수의 기울기가 가장 가파른 방향을 가리킴
* 최적화 문제에서 중요하게 사용됨
* 각 방향으로의 변화율을 나타냄

## 2. 그래디언트 계산 예제

### 예제 1: $f(x, y) = (x + 2y^3)^2$의 그래디언트

#### 1) $\\frac{\\partial f}{\\partial x}$ 계산:
* $u = x + 2y^3$라고 두면 $f = u^2$
* 연쇄법칙 적용:
  $$\\frac{\\partial f}{\\partial x} = 2u \\cdot \\frac{\\partial u}{\\partial x} = 2(x + 2y^3) \\cdot 1 = 2(x + 2y^3)$$

#### 2) $\\frac{\\partial f}{\\partial y}$ 계산:
* 연쇄법칙 적용:
  $$\\frac{\\partial f}{\\partial y} = 2u \\cdot \\frac{\\partial u}{\\partial y}$$
* $\\frac{\\partial u}{\\partial y} = 6y^2$ 이므로:
  $$\\frac{\\partial f}{\\partial y} = 2(x + 2y^3) \\cdot 6y^2 = 12y^2(x + 2y^3)$$

#### 3) 그래디언트 벡터:
$$
\\nabla f(x, y) = \\left(2(x + 2y^3),\\; 12y^2(x + 2y^3)\\right)
$$

## 3. 시험 답안 작성법 📝

### 모범 답안 예시
```
그래디언트 ∇f(x, y)를 구하기 위해 x, y에 대해 각각 편미분한다.

1) ∂f/∂x = 2(x + 2y³)  [x에 대한 편미분]
2) ∂f/∂y = 12y²(x + 2y³)  [y에 대한 편미분]

따라서, ∇f(x, y) = (2(x + 2y³), 12y²(x + 2y³))
```

### 답안 작성 필수 포함 요소
1. **계산 과정**
   * 각 변수별 편미분 과정 표시
   * 연쇄법칙 적용 과정 표시
   * 중간 계산 과정 명확히 표시

2. **최종 답안**
   * 벡터 형태로 깔끔하게 정리
   * 괄호 사용하여 구분
   * 각 성분 명확히 구분

## 4. 자주 나오는 실수들 ⚠️

1. 연쇄법칙 적용 실수
   * 중간 함수 u 설정 잊지 않기
   * 각 단계별 미분 확실히 하기

2. 벡터 표현 실수
   * 최종 답안은 반드시 벡터로 표현
   * 괄호 사용 잊지 않기

3. 계산 실수
   * 지수 법칙 주의
   * 부호 주의
   * 계수 계산 주의

## 5. 시험 대비 체크리스트 ✅

1. 기본 개념
   - [ ] 그래디언트 정의 이해
   - [ ] 편미분 개념 복습
   - [ ] 연쇄법칙 이해

2. 계산 연습
   - [ ] 다항식 그래디언트
   - [ ] 합성함수 그래디언트
   - [ ] 지수함수 그래디언트

3. 답안 작성
   - [ ] 계산 과정 명확히 쓰기
   - [ ] 벡터 표현 연습
   - [ ] 최종 정리 형식 익히기

## 6. 추가 연습 문제 📚

1. $f(x, y) = x^2y + y^3$의 그래디언트
2. $f(x, y) = e^{x+y}$의 그래디언트
3. $f(x, y) = \\ln(x^2 + y^2)$의 그래디언트

각 문제의 풀이는 다음과 같은 순서로 진행하세요:
1. 각 변수별 편미분
2. 연쇄법칙 적용 (필요시)
3. 벡터로 정리
""")

# 사이드바에 학습 가이드 추가
st.sidebar.markdown("""
## 📚 학습 순서 가이드

1. 개념 이해하기
   * 그래디언트의 의미
   * 편미분 복습
   * 연쇄법칙 복습

2. 계산 연습하기
   * 기본 다항식
   * 합성함수
   * 지수/로그함수

3. 답안 작성 연습
   * 계산 과정 정리
   * 벡터 표현
   * 최종 답안 형식

## 🎯 시험 직전 체크리스트

- [ ] 그래디언트 정의 암기
- [ ] 편미분 계산 연습
- [ ] 연쇄법칙 적용 연습
- [ ] 벡터 표현 연습
- [ ] 모범 답안 작성 연습
""") 